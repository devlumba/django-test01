{% extends 'blog/base.html' %}
{% block body %}
    <div class="post">
        <div class="content-section">
            <div class="media">
                <img class="rounded-circle account-img" src="{{ some_user.profile.image.url }}">
                <div class="media-body">
                    <h2 class="account-heading">{{ some_user.username }}</h2>
                    <p class="text-secondary">{{ some_user.email }}</p>
                    <p>{{ some_user.profile.bio|linebreaks }}</p>
                    {% if some_user == request.user %}
                    <a class="btn btn-outline-info" href="{% url 'profile' %}">Edit Profile</a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    <div class="home-body">
        {% for i in object.post_set.all %}
            <div class="post-object">
                <a class="article-title" href="{% url 'post-detail' i.id %}"><h1 style="font-size: 12px;">
                    {{ i.title }} </h1></a>
                <small><img class="rounded-circle post-account-img" src="{{ i.author.profile.image.url }}">
                <a href="{% url 'user-detail' i.author.id %}">{{ i.author }}</a> - {{ i.date_posted|date:"F d, Y" }} </small><br><br>
                <a href="{% url 'post-detail' i.id %}" class="btn btn-outline-secondary">View Post</a>
            </div>
        {% endfor %}
        {% for i in object.imagepost_set.all %}
            <div class="home-image_post-object">
                <a class="article-title" href="{% url 'image_post-detail' i.id %}"><h1 style="font-size: 12px;">
                    {{ i.title }} </h1></a>
                <small><img class="rounded-circle post-account-img" src="{{ i.author.profile.image.url }}">
                <a href="{% url 'user-detail' i.author.id %}">{{ i.author }}</a> - {{ i.date_posted|date:"F d, Y" }} </small>
                <hr><br>
                <img class="home-posts-image" src="{{ i.content.url }}"> <br>
                <a href="{% url 'image_post-detail' i.id %}" class="btn btn-outline-secondary">View Post</a>
            </div>
        {% endfor %}
        {% for i in object.videopost_set.all %}
            <div class="home-image_post-object">
                <a class="article-title" href="{% url 'video_post-detail' i.id %}"><h1 style="font-size: 12px;">
                    {{ i.title }} </h1></a>
                <small><img class="rounded-circle post-account-img" src="{{ i.author.profile.image.url }}">
                <a href="{% url 'user-detail' i.author.id %}">{{ i.author }}</a> - {{ i.date_posted|date:"F d, Y" }} </small>
                <hr><br>
                <video class="home-posts-image" >
                    <source src="{{ i.content.url }}" type="video/mp4">
                </video><br>
                <a href="{% url 'video_post-detail' i.id %}" class="btn btn-outline-secondary">View Post</a>
            </div>
        {% endfor %}
<!--        pagination -->
        {% if is_paginated %}
            {% if page_obj.has_previous %}
                <a class="btn btn-info" href="?page=1">1</a>
                {% if page_obj.previous_page_number > 1 %}
                    ...<a class="btn btn-info" href="?page={{ page_obj.previous_page_number }}">{{ page_obj.previous_page_number }}</a>
                {% endif %}
            {% endif %}

            {% for num in page_obj.paginator.page_range %}
                {% if page_obj.number == num%}
                    <a class="btn btn-secondary" href="?page={{ num }}">{{ num }}</a>
                {% endif %}
            {% endfor %}

            {% if page_obj.has_next %}
                <a class="btn btn-info" href="?page={{ page_obj.next_page_number }}">{{ page_obj.next_page_number }}</a>
                {% if page_obj.next_page_number < page_obj.paginator.num_pages %}
                    ...<a class="btn btn-info" href="?page={{ page_obj.paginator.num_pages }}">{{ page_obj.paginator.num_pages }}</a>
                {% endif %}
            {% endif %}
        {% endif %}
    </div>


{% endblock body %}